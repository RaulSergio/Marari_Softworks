<html>
    <head>

        <script>
            var altura = 200;
            var largura = 1000;
            var x =0;
            var valor;
            
             window.onload = function(){
                 var canvas = document.getElementById("grafico");                
                if(canvas){                    
                    canvas.setAttribute("width",largura);
                    canvas.setAttribute("height",altura);
                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = "lime";
                    ctx.fillRect(0, 0, largura, altura);
                    ctx.font = "30px Courier";                    
                }
            };
            function desenhaGrafico(){
                 var canvas = document.getElementById("grafico"); 
                    var ctx = canvas.getContext("2d");
                    //define o avanço horizontal
                    x+=5;
                    
                    valor = document.getElementById("valor").value;
                    //desenha uma linha até a posição gerada
                    ctx.lineTo(x, altura-valor);
                    ctx.stroke();
                    //desenha um retangulo onde está sendo escrito o valor do gráfico
                    ctx.fillStyle = "lime";
                    ctx.fillRect(0, 0, largura, 30);
                    //desenha o texto indicando o valor do gráfico, na posição x atual
                    ctx.fillStyle = "red";
                    ctx.fillText(valor, x, 30);
                    
            };
        </script>

    </head>

    <body>
        <input type="text" id="valor">
        <button onclick="desenhaGrafico()">+</button>

        <canvas id="grafico"></canvas>
    </body>
</html>