<html>
    <head>
        <script>
            window.onload = function(){
                var canvas = document.getElementById("grafico");
                if(canvas){
                    var altura = 200;
                    var largura = 1000;
                    var x =0;
                    var valor;
                    canvas.setAttribute("width",largura);
                    canvas.setAttribute("height",altura);
                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = "lime";
                    ctx.fillRect(0, 0, largura, altura);
                    ctx.font = "30px Courier";
                    function desenhaGrafico(){
                    //define o avanço horizontal
                    x+=5;
                    //gera um valor aleatório entre 0 e 100
                    valor = parseInt(Math.random() * 100);	
                    //desenha uma linha até a posição gerada
                    ctx.lineTo(x, altura-valor);
                    ctx.stroke();
                    //desenha um retangulo onde está sendo escrito o valor do gráfico
                    ctx.fillStyle = "lime";
                    ctx.fillRect(0, 0, largura, 30);
                    //desenha o texto indicando o valor do gráfico, na posição x atual
                    ctx.fillStyle = "red";
                    ctx.fillText(valor, x, 30);
                    
                }
                     setInterval(desenhaGrafico, 100);           
                }               
            };
            
             
        </script>

    </head>

    <body>
        <canvas id="grafico"></canvas>
    </body>
</html>